{"version":3,"file":"plopfile.js","sources":["../src/plops/utils/validate-input.ts","../src/plops/api.ts","../src/plops/prompts/get-destination-prompts.ts","../src/plops/utils/get-file-path.ts","../src/plops/controller.ts","../src/plops/prompts/ct-names-prompts.ts","../src/plops/prompts/kind-prompts.ts","../src/plops/utils/validate-attribute-input.ts","../src/plops/prompts/get-attributes-prompts.ts","../src/plops/prompts/bootstrap-api-prompts.ts","../src/plops/content-type.ts","../src/plops/policy.ts","../src/plops/middleware.ts","../src/plops/utils/validate-file-name-input.ts","../src/plops/utils/get-formatted-date.ts","../src/plops/migration.ts","../src/plops/service.ts","../src/plopfile.ts"],"sourcesContent":["export default (input: string) => {\r\n  const regex = /^[A-Za-z-]+$/g;\r\n\r\n  if (!input) {\r\n    return 'You must provide an input';\r\n  }\r\n\r\n  return regex.test(input) || \"Please use only letters, '-' and no spaces\";\r\n};\r\n","import { join } from 'path';\r\nimport type { NodePlopAPI } from 'plop';\r\nimport fs from 'fs-extra';\r\nimport tsUtils from '@strapi/typescript-utils';\r\n\r\nimport validateInput from './utils/validate-input';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // API generator\r\n  plop.setGenerator('api', {\r\n    description: 'Generate a basic API',\r\n    prompts: [\r\n      {\r\n        type: 'input',\r\n        name: 'id',\r\n        message: 'API name',\r\n        validate: (input) => validateInput(input),\r\n      },\r\n      {\r\n        type: 'confirm',\r\n        name: 'isPluginApi',\r\n        message: 'Is this API for a plugin?',\r\n      },\r\n      {\r\n        when: (answers) => answers.isPluginApi,\r\n        type: 'list',\r\n        name: 'plugin',\r\n        message: 'Plugin name',\r\n        async choices() {\r\n          const pluginsPath = join(plop.getDestBasePath(), 'plugins');\r\n          const exists = await fs.pathExists(pluginsPath);\r\n\r\n          if (!exists) {\r\n            throw Error('Couldn\\'t find a \"plugins\" directory');\r\n          }\r\n\r\n          const pluginsDir = await fs.readdir(pluginsPath, { withFileTypes: true });\r\n          const pluginsDirContent = pluginsDir.filter((fd) => fd.isDirectory());\r\n\r\n          if (pluginsDirContent.length === 0) {\r\n            throw Error('The \"plugins\" directory is empty');\r\n          }\r\n\r\n          return pluginsDirContent;\r\n        },\r\n      },\r\n    ],\r\n    actions(answers) {\r\n      if (!answers) {\r\n        return [];\r\n      }\r\n\r\n      const filePath =\r\n        answers.isPluginApi && answers.plugin ? 'plugins/{{ plugin }}' : 'api/{{ id }}';\r\n      const currentDir = process.cwd();\r\n      const language = tsUtils.isUsingTypeScriptSync(currentDir) ? 'ts' : 'js';\r\n\r\n      const baseActions = [\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/controllers/{{ id }}.${language}`,\r\n          templateFile: `templates/${language}/controller.${language}.hbs`,\r\n        },\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/services/{{ id }}.${language}`,\r\n          templateFile: `templates/${language}/service.${language}.hbs`,\r\n        },\r\n      ];\r\n\r\n      if (answers.isPluginApi) {\r\n        return baseActions;\r\n      }\r\n\r\n      return [\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/routes/{{ id }}.${language}`,\r\n          templateFile: `templates/${language}/single-route.${language}.hbs`,\r\n        },\r\n        ...baseActions,\r\n      ];\r\n    },\r\n  });\r\n};\r\n","import { join } from 'path';\r\nimport fs from 'fs-extra';\r\n\r\nimport type { PromptQuestion } from 'node-plop';\r\n\r\nexport default (\r\n  action: string,\r\n  basePath: string,\r\n  { rootFolder = false } = {}\r\n): Array<PromptQuestion> => {\r\n  return [\r\n    {\r\n      type: 'list',\r\n      name: 'destination',\r\n      message: `Where do you want to add this ${action}?`,\r\n      choices: [\r\n        ...(rootFolder\r\n          ? [\r\n              {\r\n                name: `Add ${action} to root of project`,\r\n                value: 'root',\r\n              },\r\n            ]\r\n          : [\r\n              {\r\n                name: `Add ${action} to new API`,\r\n                value: 'new',\r\n              },\r\n            ]),\r\n        { name: `Add ${action} to an existing API`, value: 'api' },\r\n        { name: `Add ${action} to an existing plugin`, value: 'plugin' },\r\n      ],\r\n    },\r\n    {\r\n      when: (answers) => answers.destination === 'api',\r\n      type: 'list',\r\n      message: 'Which API is this for?',\r\n      name: 'api',\r\n      async choices() {\r\n        const apiPath = join(basePath, 'api');\r\n        const exists = await fs.pathExists(apiPath);\r\n\r\n        if (!exists) {\r\n          throw Error('Couldn\\'t find an \"api\" directory');\r\n        }\r\n\r\n        const apiDir = await fs.readdir(apiPath, { withFileTypes: true });\r\n        const apiDirContent = apiDir.filter((fd) => fd.isDirectory());\r\n\r\n        if (apiDirContent.length === 0) {\r\n          throw Error('The \"api\" directory is empty');\r\n        }\r\n\r\n        return apiDirContent;\r\n      },\r\n    },\r\n    {\r\n      when: (answers) => answers.destination === 'plugin',\r\n      type: 'list',\r\n      message: 'Which plugin is this for?',\r\n      name: 'plugin',\r\n      async choices() {\r\n        const pluginsPath = join(basePath, 'plugins');\r\n        const exists = await fs.pathExists(pluginsPath);\r\n\r\n        if (!exists) {\r\n          throw Error('Couldn\\'t find a \"plugins\" directory');\r\n        }\r\n\r\n        const pluginsDir = await fs.readdir(pluginsPath);\r\n        const pluginsDirContent = pluginsDir.filter((api) =>\r\n          fs.lstatSync(join(pluginsPath, api)).isDirectory()\r\n        );\r\n\r\n        if (pluginsDirContent.length === 0) {\r\n          throw Error('The \"plugins\" directory is empty');\r\n        }\r\n\r\n        return pluginsDirContent;\r\n      },\r\n    },\r\n  ];\r\n};\r\n","export default (destination: string) => {\r\n  if (destination === 'api') {\r\n    return `api/{{ api }}`;\r\n  }\r\n\r\n  if (destination === 'plugin') {\r\n    return `plugins/{{ plugin }}/server`;\r\n  }\r\n\r\n  if (destination === 'root') {\r\n    return './';\r\n  }\r\n\r\n  return `api/{{ id }}`;\r\n};\r\n","import type { NodePlopAPI } from 'plop';\r\nimport tsUtils from '@strapi/typescript-utils';\r\n\r\nimport getDestinationPrompts from './prompts/get-destination-prompts';\r\nimport getFilePath from './utils/get-file-path';\r\nimport validateInput from './utils/validate-input';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // Controller generator\r\n  plop.setGenerator('controller', {\r\n    description: 'Generate a controller for an API',\r\n    prompts: [\r\n      {\r\n        type: 'input',\r\n        name: 'id',\r\n        message: 'Controller name',\r\n        validate: (input) => validateInput(input),\r\n      },\r\n      ...getDestinationPrompts('controller', plop.getDestBasePath()),\r\n    ],\r\n    actions(answers) {\r\n      if (!answers) {\r\n        return [];\r\n      }\r\n\r\n      const filePath = getFilePath(answers.destination);\r\n      const currentDir = process.cwd();\r\n      const language = tsUtils.isUsingTypeScriptSync(currentDir) ? 'ts' : 'js';\r\n\r\n      return [\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/controllers/{{ id }}.${language}`,\r\n          templateFile: `templates/${language}/controller.${language}.hbs`,\r\n        },\r\n      ];\r\n    },\r\n  });\r\n};\r\n","import pluralize from 'pluralize';\r\nimport slugify from '@sindresorhus/slugify';\r\nimport { strings } from '@strapi/utils';\r\n\r\nimport type { PromptQuestion } from 'node-plop';\r\n\r\ninterface Answers {\r\n  displayName: string;\r\n  singularName: string;\r\n  pluralName: string;\r\n}\r\n\r\nconst questions: Array<PromptQuestion> = [\r\n  {\r\n    type: 'input',\r\n    name: 'displayName',\r\n    message: 'Content type display name',\r\n    validate: (input: string) => !!input,\r\n  },\r\n  {\r\n    type: 'input',\r\n    name: 'singularName',\r\n    message: 'Content type singular name',\r\n    default: (answers: Answers) => slugify(answers.displayName),\r\n    validate(input) {\r\n      if (!strings.isKebabCase(input)) {\r\n        return 'Value must be in kebab-case';\r\n      }\r\n\r\n      return true;\r\n    },\r\n  },\r\n  {\r\n    type: 'input',\r\n    name: 'pluralName',\r\n    message: 'Content type plural name',\r\n    default: (answers: Answers) => pluralize(answers.singularName),\r\n    validate(input: string, answers: Answers) {\r\n      if (answers.singularName === input) {\r\n        return 'Singular and plural names cannot be the same';\r\n      }\r\n\r\n      if (!strings.isKebabCase(input)) {\r\n        return 'Value must be in kebab-case';\r\n      }\r\n\r\n      return true;\r\n    },\r\n  },\r\n];\r\n\r\nexport default questions;\r\n","import type { PromptQuestion } from 'node-plop';\r\n\r\nimport validateInput from '../utils/validate-input';\r\n\r\nconst questions: Array<PromptQuestion> = [\r\n  {\r\n    type: 'list',\r\n    name: 'kind',\r\n    message: 'Please choose the model type',\r\n    default: 'collectionType',\r\n    choices: [\r\n      { name: 'Collection Type', value: 'collectionType' },\r\n      { name: 'Single Type', value: 'singleType' },\r\n    ],\r\n    validate: (input: string) => validateInput(input),\r\n  },\r\n];\r\n\r\nexport default questions;\r\n","export default (input: string) => {\r\n  const regex = /^[A-Za-z-|_]+$/g;\r\n\r\n  if (!input) {\r\n    return 'You must provide an input';\r\n  }\r\n\r\n  return regex.test(input) || \"Please use only letters, '-', '_',  and no spaces\";\r\n};\r\n","import type { DynamicPromptsFunction } from 'node-plop';\r\n\r\nimport validateAttributeInput from '../utils/validate-attribute-input';\r\n\r\ninterface AttributeAnswer {\r\n  attributeName: string;\r\n  attributeType: typeof DEFAULT_TYPES;\r\n  enum?: string;\r\n  multiple?: boolean;\r\n}\r\n\r\nconst DEFAULT_TYPES = [\r\n  // advanced types\r\n  'media',\r\n\r\n  // scalar types\r\n  'string',\r\n  'text',\r\n  'richtext',\r\n  'json',\r\n  'enumeration',\r\n  'password',\r\n  'email',\r\n  'integer',\r\n  'biginteger',\r\n  'float',\r\n  'decimal',\r\n  'date',\r\n  'time',\r\n  'datetime',\r\n  'timestamp',\r\n  'boolean',\r\n] as const;\r\n\r\nconst getAttributesPrompts: DynamicPromptsFunction = async (inquirer) => {\r\n  const { addAttributes } = await inquirer.prompt([\r\n    {\r\n      type: 'confirm',\r\n      name: 'addAttributes',\r\n      message: 'Do you want to add attributes?',\r\n    },\r\n  ]);\r\n\r\n  const attributes: Array<AttributeAnswer> = [];\r\n\r\n  /**\r\n   * @param {import('inquirer').Inquirer} inquirer\r\n   * @returns {Promise<void>}\r\n   */\r\n  const createNewAttributes = async (inquirer: Parameters<DynamicPromptsFunction>[0]) => {\r\n    const answers = await inquirer.prompt([\r\n      {\r\n        type: 'input',\r\n        name: 'attributeName',\r\n        message: 'Name of attribute',\r\n        validate: (input: string) => validateAttributeInput(input),\r\n      },\r\n      {\r\n        type: 'list',\r\n        name: 'attributeType',\r\n        message: 'What type of attribute',\r\n        pageSize: DEFAULT_TYPES.length,\r\n        choices: DEFAULT_TYPES.map((type) => {\r\n          return { name: type, value: type };\r\n        }),\r\n      },\r\n      {\r\n        when: (answers) => answers.attributeType === 'enumeration',\r\n        type: 'input',\r\n        name: 'enum',\r\n        message: 'Add values separated by a comma',\r\n      },\r\n      {\r\n        when: (answers) => answers.attributeType === 'media',\r\n        type: 'list',\r\n        name: 'multiple',\r\n        message: 'Choose media type',\r\n        choices: [\r\n          { name: 'Multiple', value: true },\r\n          { name: 'Single', value: false },\r\n        ],\r\n      },\r\n      {\r\n        type: 'confirm',\r\n        name: 'addAttributes',\r\n        message: 'Do you want to add another attribute?',\r\n      },\r\n    ]);\r\n\r\n    attributes.push(answers);\r\n\r\n    if (!answers.addAttributes) {\r\n      return;\r\n    }\r\n\r\n    await createNewAttributes(inquirer);\r\n  };\r\n\r\n  if (addAttributes) {\r\n    await createNewAttributes(inquirer);\r\n  } else {\r\n    console.warn(\r\n      `You won't be able to manage entries from the admin, you can still add attributes later from the content type builder.`\r\n    );\r\n  }\r\n\r\n  return attributes;\r\n};\r\n\r\nexport default getAttributesPrompts;\r\n","import type { PromptQuestion } from 'node-plop';\r\n\r\nconst questions: Array<PromptQuestion> = [\r\n  {\r\n    type: 'confirm',\r\n    name: 'bootstrapApi',\r\n    default: true,\r\n    message: 'Bootstrap API related files?',\r\n  },\r\n];\r\n\r\nexport default questions;\r\n","import { join } from 'path';\r\nimport type { NodePlopAPI, ActionType } from 'plop';\r\nimport slugify from '@sindresorhus/slugify';\r\nimport fs from 'fs-extra';\r\nimport { strings } from '@strapi/utils';\r\nimport tsUtils from '@strapi/typescript-utils';\r\n\r\nimport getDestinationPrompts from './prompts/get-destination-prompts';\r\nimport getFilePath from './utils/get-file-path';\r\nimport ctNamesPrompts from './prompts/ct-names-prompts';\r\nimport kindPrompts from './prompts/kind-prompts';\r\nimport getAttributesPrompts from './prompts/get-attributes-prompts';\r\nimport bootstrapApiPrompts from './prompts/bootstrap-api-prompts';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // Model generator\r\n  plop.setGenerator('content-type', {\r\n    description: 'Generate a content type for an API',\r\n    async prompts(inquirer) {\r\n      const config = await inquirer.prompt([...ctNamesPrompts, ...kindPrompts]);\r\n      // @ts-expect-error issue with deprecated inquirer.prompts attribute to fix with ugprade to inquirer\r\n      const attributes = await getAttributesPrompts(inquirer);\r\n\r\n      const api = await inquirer.prompt([\r\n        ...getDestinationPrompts('model', plop.getDestBasePath()),\r\n        {\r\n          when: (answers) => answers.destination === 'new',\r\n          type: 'input',\r\n          name: 'id',\r\n          default: config.singularName,\r\n          message: 'Name of the new API?',\r\n          async validate(input) {\r\n            if (!strings.isKebabCase(input)) {\r\n              return 'Value must be in kebab-case';\r\n            }\r\n\r\n            const apiPath = join(plop.getDestBasePath(), 'api');\r\n            const exists = await fs.pathExists(apiPath);\r\n\r\n            if (!exists) {\r\n              return true;\r\n            }\r\n\r\n            const apiDir = await fs.readdir(apiPath, { withFileTypes: true });\r\n            const apiDirContent = apiDir.filter((fd) => fd.isDirectory());\r\n\r\n            if (apiDirContent.findIndex((dir) => dir.name === input) !== -1) {\r\n              throw new Error('This name is already taken.');\r\n            }\r\n\r\n            return true;\r\n          },\r\n        },\r\n        ...bootstrapApiPrompts,\r\n      ]);\r\n\r\n      return {\r\n        ...config,\r\n        ...api,\r\n        attributes,\r\n      };\r\n    },\r\n    actions(answers) {\r\n      if (!answers) {\r\n        return [];\r\n      }\r\n\r\n      const attributes = answers.attributes.reduce((object: any, answer: any) => {\r\n        const val: any = { type: answer.attributeType };\r\n\r\n        if (answer.attributeType === 'enumeration') {\r\n          val.enum = answer.enum.split(',').map((item: string) => item.trim());\r\n        }\r\n\r\n        if (answer.attributeType === 'media') {\r\n          val.allowedTypes = ['images', 'files', 'videos', 'audios'];\r\n          val.multiple = answer.multiple;\r\n        }\r\n\r\n        return Object.assign(object, { [answer.attributeName]: val }, {});\r\n      }, {});\r\n\r\n      const filePath = getFilePath(answers.destination);\r\n      // TODO: use basePath instead\r\n      const currentDir = process.cwd();\r\n      const language = tsUtils.isUsingTypeScriptSync(currentDir) ? 'ts' : 'js';\r\n\r\n      const baseActions: Array<ActionType> = [\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/content-types/{{ singularName }}/schema.json`,\r\n          templateFile: `templates/${language}/content-type.schema.json.hbs`,\r\n          data: {\r\n            collectionName: slugify(answers.pluralName, { separator: '_' }),\r\n          },\r\n        },\r\n      ];\r\n\r\n      if (Object.entries(attributes).length > 0) {\r\n        baseActions.push({\r\n          type: 'modify',\r\n          path: `${filePath}/content-types/{{ singularName }}/schema.json`,\r\n          transform(template: string) {\r\n            const parsedTemplate = JSON.parse(template);\r\n            parsedTemplate.attributes = attributes;\r\n            return JSON.stringify(parsedTemplate, null, 2);\r\n          },\r\n        });\r\n      }\r\n\r\n      if (answers.bootstrapApi) {\r\n        const { singularName } = answers;\r\n\r\n        let uid;\r\n        if (answers.destination === 'new') {\r\n          uid = `api::${answers.id}.${singularName}`;\r\n        } else if (answers.api) {\r\n          uid = `api::${answers.api}.${singularName}`;\r\n        } else if (answers.plugin) {\r\n          uid = `plugin::${answers.plugin}.${singularName}`;\r\n        }\r\n\r\n        baseActions.push(\r\n          {\r\n            type: 'add',\r\n            path: `${filePath}/controllers/{{ singularName }}.${language}`,\r\n            templateFile: `templates/${language}/core-controller.${language}.hbs`,\r\n            data: { uid },\r\n          },\r\n          {\r\n            type: 'add',\r\n            path: `${filePath}/services/{{ singularName }}.${language}`,\r\n            templateFile: `templates/${language}/core-service.${language}.hbs`,\r\n            data: { uid },\r\n          },\r\n          {\r\n            type: 'add',\r\n            path: `${filePath}/routes/{{ singularName }}.${language}`,\r\n            templateFile: `templates/${language}/core-router.${language}.hbs`,\r\n            data: { uid },\r\n          }\r\n        );\r\n      }\r\n\r\n      return baseActions;\r\n    },\r\n  });\r\n};\r\n","import type { NodePlopAPI } from 'plop';\r\nimport tsUtils from '@strapi/typescript-utils';\r\n\r\nimport getDestinationPrompts from './prompts/get-destination-prompts';\r\nimport validateInput from './utils/validate-input';\r\nimport getFilePath from './utils/get-file-path';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // Policy generator\r\n  plop.setGenerator('policy', {\r\n    description: 'Generate a policy for an API',\r\n    prompts: [\r\n      {\r\n        type: 'input',\r\n        name: 'id',\r\n        message: 'Policy name',\r\n        validate: (input) => validateInput(input),\r\n      },\r\n      ...getDestinationPrompts('policy', plop.getDestBasePath(), { rootFolder: true }),\r\n    ],\r\n    actions(answers) {\r\n      if (!answers) {\r\n        return [];\r\n      }\r\n\r\n      const filePath = getFilePath(answers.destination);\r\n      const currentDir = process.cwd();\r\n      const language = tsUtils.isUsingTypeScriptSync(currentDir) ? 'ts' : 'js';\r\n\r\n      return [\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/policies/{{ id }}.${language}`,\r\n          templateFile: `templates/${language}/policy.${language}.hbs`,\r\n        },\r\n      ];\r\n    },\r\n  });\r\n};\r\n","import type { NodePlopAPI } from 'plop';\r\nimport tsUtils from '@strapi/typescript-utils';\r\n\r\nimport getDestinationPrompts from './prompts/get-destination-prompts';\r\nimport validateInput from './utils/validate-input';\r\nimport getFilePath from './utils/get-file-path';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // middleware generator\r\n  plop.setGenerator('middleware', {\r\n    description: 'Generate a middleware for an API',\r\n    prompts: [\r\n      {\r\n        type: 'input',\r\n        name: 'name',\r\n        message: 'Middleware name',\r\n        validate: (input) => validateInput(input),\r\n      },\r\n      ...getDestinationPrompts('middleware', plop.getDestBasePath(), { rootFolder: true }),\r\n    ],\r\n    actions(answers) {\r\n      if (!answers) {\r\n        return [];\r\n      }\r\n\r\n      const filePath = getFilePath(answers.destination);\r\n      const currentDir = process.cwd();\r\n      const language = tsUtils.isUsingTypeScriptSync(currentDir) ? 'ts' : 'js';\r\n\r\n      return [\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/middlewares/{{ name }}.${language}`,\r\n          templateFile: `templates/${language}/middleware.${language}.hbs`,\r\n        },\r\n      ];\r\n    },\r\n  });\r\n};\r\n","export default (input: string) => {\r\n  const regex = /^[A-Za-z-_0-9]+$/g;\r\n\r\n  if (!input) {\r\n    return 'You must provide an input';\r\n  }\r\n\r\n  return regex.test(input) || \"Please use only letters and number, '-' or '_' and no spaces\";\r\n};\r\n","export default (date: Date = new Date()) => {\r\n  return new Date(date.getTime() - date.getTimezoneOffset() * 60000)\r\n    .toJSON()\r\n    .replace(/[-:]/g, '.')\r\n    .replace(/\\....Z/, '');\r\n};\r\n","import type { NodePlopAPI } from 'plop';\r\nimport tsUtils from '@strapi/typescript-utils';\r\nimport validateFileNameInput from './utils/validate-file-name-input';\r\nimport getFormattedDate from './utils/get-formatted-date';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // Migration generator\r\n  plop.setGenerator('migration', {\r\n    description: 'Generate a migration',\r\n    prompts: [\r\n      {\r\n        type: 'input',\r\n        name: 'name',\r\n        message: 'Migration name',\r\n        validate: (input) => validateFileNameInput(input),\r\n      },\r\n    ],\r\n    actions() {\r\n      const currentDir = process.cwd();\r\n      const language = tsUtils.isUsingTypeScriptSync(currentDir) ? 'ts' : 'js';\r\n      const timestamp = getFormattedDate();\r\n\r\n      return [\r\n        {\r\n          type: 'add',\r\n          path: `${currentDir}/database/migrations/${timestamp}.{{ name }}.${language}`,\r\n          templateFile: `templates/${language}/migration.${language}.hbs`,\r\n        },\r\n      ];\r\n    },\r\n  });\r\n};\r\n","import type { NodePlopAPI } from 'plop';\r\nimport tsUtils from '@strapi/typescript-utils';\r\n\r\nimport getDestinationPrompts from './prompts/get-destination-prompts';\r\nimport getFilePath from './utils/get-file-path';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // Service generator\r\n  plop.setGenerator('service', {\r\n    description: 'Generate a service for an API',\r\n    prompts: [\r\n      {\r\n        type: 'input',\r\n        name: 'id',\r\n        message: 'Service name',\r\n      },\r\n      ...getDestinationPrompts('service', plop.getDestBasePath()),\r\n    ],\r\n    actions(answers) {\r\n      if (!answers) {\r\n        return [];\r\n      }\r\n\r\n      const filePath = getFilePath(answers?.destination);\r\n      const currentDir = process.cwd();\r\n      const language = tsUtils.isUsingTypeScriptSync(currentDir) ? 'ts' : 'js';\r\n\r\n      return [\r\n        {\r\n          type: 'add',\r\n          path: `${filePath}/services/{{ id }}.${language}`,\r\n          templateFile: `templates/${language}/service.${language}.hbs`,\r\n        },\r\n      ];\r\n    },\r\n  });\r\n};\r\n","import pluralize from 'pluralize';\r\nimport type { NodePlopAPI } from 'plop';\r\n\r\nimport generateApi from './plops/api';\r\nimport generateController from './plops/controller';\r\nimport generateContentType from './plops/content-type';\r\nimport generatePolicy from './plops/policy';\r\nimport generateMiddleware from './plops/middleware';\r\nimport generateMigration from './plops/migration';\r\nimport generateService from './plops/service';\r\n\r\nexport default (plop: NodePlopAPI) => {\r\n  // Plop config\r\n  plop.setWelcomeMessage('Strapi Generators');\r\n  plop.addHelper('pluralize', (text: string) => pluralize(text));\r\n\r\n  // Generators\r\n  generateApi(plop);\r\n  generateController(plop);\r\n  generateContentType(plop);\r\n  generatePolicy(plop);\r\n  generateMiddleware(plop);\r\n  generateMigration(plop);\r\n  generateService(plop);\r\n};\r\n"],"names":["join","fs","tsUtils","questions","slugify","strings","pluralize","inquirer","answers","ctNamesPrompts","kindPrompts","bootstrapApiPrompts"],"mappings":"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"}