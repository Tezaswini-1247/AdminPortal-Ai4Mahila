{"version":3,"file":"Settings-DKhINVfQ.mjs","sources":["../../admin/src/utils/getYupInnerErrors.ts","../../admin/src/utils/schema.ts","../../admin/src/pages/Settings.tsx"],"sourcesContent":["import type { MessageDescriptor, PrimitiveType } from 'react-intl';\r\nimport type { ValidationError } from 'yup';\r\n\r\ninterface TranslationMessage extends MessageDescriptor {\r\n  values?: Record<string, PrimitiveType>;\r\n}\r\n\r\nconst extractValuesFromYupError = (\r\n  errorType?: string | undefined,\r\n  errorParams?: Record<string, any> | undefined\r\n) => {\r\n  if (!errorType || !errorParams) {\r\n    return {};\r\n  }\r\n\r\n  return {\r\n    [errorType]: errorParams[errorType],\r\n  };\r\n};\r\n\r\nconst getYupInnerErrors = (error: ValidationError) =>\r\n  (error?.inner || []).reduce<Record<string, TranslationMessage>>((acc, currentError) => {\r\n    if (currentError.path) {\r\n      acc[currentError.path.split('[').join('.').split(']').join('')] = {\r\n        id: currentError.message,\r\n        defaultMessage: currentError.message,\r\n        values: extractValuesFromYupError(currentError?.type, currentError?.params),\r\n      };\r\n    }\r\n\r\n    return acc;\r\n  }, {});\r\n\r\nexport { getYupInnerErrors };\r\n","import { translatedErrors } from '@strapi/admin/strapi-admin';\r\nimport * as yup from 'yup';\r\n\r\nexport const schema = yup.object().shape({\r\n  email: yup.string().email(translatedErrors.email.id).required(translatedErrors.required.id),\r\n});\r\n","import * as React from 'react';\r\n\r\nimport { Page, useNotification, useFetchClient, Layouts } from '@strapi/admin/strapi-admin';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Flex,\r\n  Grid,\r\n  SingleSelectOption,\r\n  SingleSelect,\r\n  TextInput,\r\n  Typography,\r\n  Field,\r\n} from '@strapi/design-system';\r\nimport { Mail } from '@strapi/icons';\r\nimport { useIntl } from 'react-intl';\r\nimport { useQuery, useMutation } from 'react-query';\r\nimport { styled } from 'styled-components';\r\nimport { ValidationError } from 'yup';\r\n\r\nimport { PERMISSIONS } from '../constants';\r\nimport { getYupInnerErrors } from '../utils/getYupInnerErrors';\r\nimport { schema } from '../utils/schema';\r\n\r\nimport type { EmailSettings } from '../../../shared/types';\r\n\r\nconst DocumentationLink = styled.a`\r\n  color: ${({ theme }) => theme.colors.primary600};\r\n`;\r\n\r\ninterface MutationBody {\r\n  to: string;\r\n}\r\n\r\nexport const ProtectedSettingsPage = () => (\r\n  <Page.Protect permissions={PERMISSIONS.settings}>\r\n    <SettingsPage />\r\n  </Page.Protect>\r\n);\r\n\r\nconst SettingsPage = () => {\r\n  const { toggleNotification } = useNotification();\r\n  const { formatMessage } = useIntl();\r\n  const { get, post } = useFetchClient();\r\n\r\n  const [testAddress, setTestAddress] = React.useState('');\r\n  const [isTestAddressValid, setIsTestAddressValid] = React.useState(false);\r\n\r\n  // TODO: I'm not sure how to type this. I think it should be Record<string, TranslationMessage> but that type is defined in the helper-plugin\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [formErrors, setFormErrors] = React.useState<Record<string, any>>({});\r\n\r\n  const { data, isLoading } = useQuery(['email', 'settings'], async () => {\r\n    const res = await get<EmailSettings>('/email/settings');\r\n    const {\r\n      data: { config },\r\n    } = res;\r\n\r\n    return config;\r\n  });\r\n\r\n  const mutation = useMutation<void, Error, MutationBody>(\r\n    async (body) => {\r\n      await post('/email/test', body);\r\n    },\r\n    {\r\n      onError() {\r\n        toggleNotification!({\r\n          type: 'danger',\r\n          message: formatMessage(\r\n            {\r\n              id: 'email.Settings.email.plugin.notification.test.error',\r\n              defaultMessage: 'Failed to send a test mail to {to}',\r\n            },\r\n            { to: testAddress }\r\n          ),\r\n        });\r\n      },\r\n      onSuccess() {\r\n        toggleNotification!({\r\n          type: 'success',\r\n          message: formatMessage(\r\n            {\r\n              id: 'email.Settings.email.plugin.notification.test.success',\r\n              defaultMessage: 'Email test succeeded, check the {to} mailbox',\r\n            },\r\n            { to: testAddress }\r\n          ),\r\n        });\r\n      },\r\n      retry: false,\r\n    }\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    schema\r\n      .validate({ email: testAddress }, { abortEarly: false })\r\n      .then(() => setIsTestAddressValid(true))\r\n      .catch(() => setIsTestAddressValid(false));\r\n  }, [testAddress]);\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTestAddress(() => event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await schema.validate({ email: testAddress }, { abortEarly: false });\r\n    } catch (error) {\r\n      if (error instanceof ValidationError) {\r\n        setFormErrors(getYupInnerErrors(error));\r\n      }\r\n    }\r\n\r\n    mutation.mutate({ to: testAddress });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Page.Loading />;\r\n  }\r\n\r\n  return (\r\n    <Page.Main labelledBy=\"title\" aria-busy={isLoading || mutation.isLoading}>\r\n      <Page.Title>\r\n        {formatMessage(\r\n          { id: 'Settings.PageTitle', defaultMessage: 'Settings - {name}' },\r\n          {\r\n            name: formatMessage({\r\n              id: 'email.Settings.email.plugin.title',\r\n              defaultMessage: 'Configuration',\r\n            }),\r\n          }\r\n        )}\r\n      </Page.Title>\r\n      <Layouts.Header\r\n        id=\"title\"\r\n        title={formatMessage({\r\n          id: 'email.Settings.email.plugin.title',\r\n          defaultMessage: 'Configuration',\r\n        })}\r\n        subtitle={formatMessage({\r\n          id: 'email.Settings.email.plugin.subTitle',\r\n          defaultMessage: 'Test the settings for the Email plugin',\r\n        })}\r\n      />\r\n\r\n      <Layouts.Content>\r\n        {data && (\r\n          <form onSubmit={handleSubmit}>\r\n            <Flex direction=\"column\" alignItems=\"stretch\" gap={7}>\r\n              <Box\r\n                background=\"neutral0\"\r\n                hasRadius\r\n                shadow=\"filterShadow\"\r\n                paddingTop={6}\r\n                paddingBottom={6}\r\n                paddingLeft={7}\r\n                paddingRight={7}\r\n              >\r\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={4}>\r\n                  <Flex direction=\"column\" alignItems=\"stretch\" gap={1}>\r\n                    <Typography variant=\"delta\" tag=\"h2\">\r\n                      {formatMessage({\r\n                        id: 'email.Settings.email.plugin.title.config',\r\n                        defaultMessage: 'Configuration',\r\n                      })}\r\n                    </Typography>\r\n                    <Typography>\r\n                      {formatMessage(\r\n                        {\r\n                          id: 'email.Settings.email.plugin.text.configuration',\r\n                          defaultMessage:\r\n                            'The plugin is configured through the {file} file, checkout this {link} for the documentation.',\r\n                        },\r\n                        {\r\n                          file: './config/plugins.js',\r\n                          link: (\r\n                            <DocumentationLink\r\n                              href=\"https://docs.strapi.io/developer-docs/latest/plugins/email.html\"\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                            >\r\n                              {formatMessage({\r\n                                id: 'email.link',\r\n                                defaultMessage: 'Link',\r\n                              })}\r\n                            </DocumentationLink>\r\n                          ),\r\n                        }\r\n                      )}\r\n                    </Typography>\r\n                  </Flex>\r\n\r\n                  <Grid.Root gap={5}>\r\n                    <Grid.Item col={6} s={12} direction=\"column\" alignItems=\"stretch\">\r\n                      <Field.Root name=\"shipper-email\">\r\n                        <Field.Label>\r\n                          {formatMessage({\r\n                            id: 'email.Settings.email.plugin.label.defaultFrom',\r\n                            defaultMessage: 'Default sender email',\r\n                          })}\r\n                        </Field.Label>\r\n                        <TextInput\r\n                          placeholder={formatMessage({\r\n                            id: 'email.Settings.email.plugin.placeholder.defaultFrom',\r\n                            defaultMessage: \"ex: Strapi No-Reply '<'no-reply@strapi.io'>'\",\r\n                          })}\r\n                          disabled\r\n                          value={data.settings.defaultFrom}\r\n                        />\r\n                      </Field.Root>\r\n                    </Grid.Item>\r\n\r\n                    <Grid.Item col={6} s={12} direction=\"column\" alignItems=\"stretch\">\r\n                      <Field.Root name=\"response-email\">\r\n                        <Field.Label>\r\n                          {formatMessage({\r\n                            id: 'email.Settings.email.plugin.label.defaultReplyTo',\r\n                            defaultMessage: 'Default response email',\r\n                          })}\r\n                        </Field.Label>\r\n                        <TextInput\r\n                          placeholder={formatMessage({\r\n                            id: 'email.Settings.email.plugin.placeholder.defaultReplyTo',\r\n                            defaultMessage: `ex: Strapi '<'example@strapi.io'>'`,\r\n                          })}\r\n                          disabled\r\n                          value={data.settings.defaultReplyTo}\r\n                        />\r\n                      </Field.Root>\r\n                    </Grid.Item>\r\n\r\n                    <Grid.Item col={6} s={12} direction=\"column\" alignItems=\"stretch\">\r\n                      <Field.Root name=\"email-provider\">\r\n                        <Field.Label>\r\n                          {formatMessage({\r\n                            id: 'email.Settings.email.plugin.label.provider',\r\n                            defaultMessage: 'Email provider',\r\n                          })}\r\n                        </Field.Label>\r\n                        <SingleSelect disabled value={data.provider}>\r\n                          <SingleSelectOption value={data.provider}>\r\n                            {data.provider}\r\n                          </SingleSelectOption>\r\n                        </SingleSelect>\r\n                      </Field.Root>\r\n                    </Grid.Item>\r\n                  </Grid.Root>\r\n                </Flex>\r\n              </Box>\r\n\r\n              <Flex\r\n                alignItems=\"stretch\"\r\n                background=\"neutral0\"\r\n                direction=\"column\"\r\n                gap={4}\r\n                hasRadius\r\n                shadow=\"filterShadow\"\r\n                paddingTop={6}\r\n                paddingBottom={6}\r\n                paddingLeft={7}\r\n                paddingRight={7}\r\n              >\r\n                <Typography variant=\"delta\" tag=\"h2\">\r\n                  {formatMessage({\r\n                    id: 'email.Settings.email.plugin.title.test',\r\n                    defaultMessage: 'Test email delivery',\r\n                  })}\r\n                </Typography>\r\n\r\n                <Grid.Root gap={5}>\r\n                  <Grid.Item col={6} s={12} direction=\"column\" alignItems=\"stretch\">\r\n                    <Field.Root\r\n                      name=\"test-address\"\r\n                      error={\r\n                        formErrors.email?.id &&\r\n                        formatMessage({\r\n                          id: `email.${formErrors.email?.id}`,\r\n                          defaultMessage: 'This is not a valid email',\r\n                        })\r\n                      }\r\n                    >\r\n                      <Field.Label>\r\n                        {formatMessage({\r\n                          id: 'email.Settings.email.plugin.label.testAddress',\r\n                          defaultMessage: 'Recipient email',\r\n                        })}\r\n                      </Field.Label>\r\n                      <TextInput\r\n                        onChange={handleChange}\r\n                        value={testAddress}\r\n                        placeholder={formatMessage({\r\n                          id: 'email.Settings.email.plugin.placeholder.testAddress',\r\n                          defaultMessage: 'ex: developer@example.com',\r\n                        })}\r\n                      />\r\n                    </Field.Root>\r\n                  </Grid.Item>\r\n                  <Grid.Item col={7} s={12} direction=\"column\" alignItems=\"start\">\r\n                    <Button\r\n                      loading={mutation.isLoading}\r\n                      disabled={!isTestAddressValid}\r\n                      type=\"submit\"\r\n                      startIcon={<Mail />}\r\n                    >\r\n                      {formatMessage({\r\n                        id: 'email.Settings.email.plugin.button.test-email',\r\n                        defaultMessage: 'Send test email',\r\n                      })}\r\n                    </Button>\r\n                  </Grid.Item>\r\n                </Grid.Root>\r\n              </Flex>\r\n            </Flex>\r\n          </form>\r\n        )}\r\n      </Layouts.Content>\r\n    </Page.Main>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}