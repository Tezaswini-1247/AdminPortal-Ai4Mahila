{"version":3,"file":"apis.js","sources":["../../src/registries/apis.ts"],"sourcesContent":["import { has } from 'lodash/fp';\r\nimport type { Core } from '@strapi/types';\r\n\r\nconst apisRegistry = (strapi: Core.Strapi) => {\r\n  const apis: Record<string, unknown> = {};\r\n\r\n  return {\r\n    get(name: string) {\r\n      return apis[name];\r\n    },\r\n    getAll() {\r\n      return apis;\r\n    },\r\n    add(apiName: string, apiConfig: unknown) {\r\n      if (has(apiName, apis)) {\r\n        throw new Error(`API ${apiName} has already been registered.`);\r\n      }\r\n\r\n      const api = strapi.get('modules').add(`api::${apiName}`, apiConfig);\r\n\r\n      apis[apiName] = api;\r\n\r\n      return apis[apiName];\r\n    },\r\n  };\r\n};\r\n\r\nexport default apisRegistry;\r\n"],"names":["has"],"mappings":";;AAGM,MAAA,eAAe,CAAC,WAAwB;AAC5C,QAAM,OAAgC,CAAC;AAEhC,SAAA;AAAA,IACL,IAAI,MAAc;AAChB,aAAO,KAAK,IAAI;AAAA,IAClB;AAAA,IACA,SAAS;AACA,aAAA;AAAA,IACT;AAAA,IACA,IAAI,SAAiB,WAAoB;AACnC,UAAAA,GAAA,IAAI,SAAS,IAAI,GAAG;AACtB,cAAM,IAAI,MAAM,OAAO,OAAO,+BAA+B;AAAA,MAAA;AAGzD,YAAA,MAAM,OAAO,IAAI,SAAS,EAAE,IAAI,QAAQ,OAAO,IAAI,SAAS;AAElE,WAAK,OAAO,IAAI;AAEhB,aAAO,KAAK,OAAO;AAAA,IAAA;AAAA,EAEvB;AACF;;"}