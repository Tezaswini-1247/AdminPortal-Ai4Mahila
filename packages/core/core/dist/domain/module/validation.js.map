{"version":3,"file":"validation.js","sources":["../../../src/domain/module/validation.ts"],"sourcesContent":["import { yup } from '@strapi/utils';\r\n\r\nconst strapiServerSchema = yup\r\n  .object()\r\n  .shape({\r\n    bootstrap: yup.mixed().isFunction(),\r\n    destroy: yup.mixed().isFunction(),\r\n    register: yup.mixed().isFunction(),\r\n    config: yup.object(),\r\n    routes: yup.lazy((value) => {\r\n      if (Array.isArray(value)) {\r\n        return yup.array();\r\n      }\r\n      return yup.object();\r\n    }),\r\n    controllers: yup.object(),\r\n    services: yup.object(),\r\n    policies: yup.object(),\r\n    middlewares: yup.object(),\r\n    contentTypes: yup.object(),\r\n  })\r\n  .noUnknown();\r\n\r\nconst validateModule = (data: unknown) => {\r\n  return strapiServerSchema.validateSync(data, { strict: true, abortEarly: false });\r\n};\r\n\r\nexport { validateModule };\r\n"],"names":["yup"],"mappings":";;;AAEA,MAAM,qBAAqBA,YAAA,IACxB,OAAO,EACP,MAAM;AAAA,EACL,WAAWA,YAAA,IAAI,MAAM,EAAE,WAAW;AAAA,EAClC,SAASA,YAAA,IAAI,MAAM,EAAE,WAAW;AAAA,EAChC,UAAUA,YAAA,IAAI,MAAM,EAAE,WAAW;AAAA,EACjC,QAAQA,gBAAI,OAAO;AAAA,EACnB,QAAQA,YAAA,IAAI,KAAK,CAAC,UAAU;AACtB,QAAA,MAAM,QAAQ,KAAK,GAAG;AACxB,aAAOA,YAAAA,IAAI,MAAM;AAAA,IAAA;AAEnB,WAAOA,YAAAA,IAAI,OAAO;AAAA,EAAA,CACnB;AAAA,EACD,aAAaA,gBAAI,OAAO;AAAA,EACxB,UAAUA,gBAAI,OAAO;AAAA,EACrB,UAAUA,gBAAI,OAAO;AAAA,EACrB,aAAaA,gBAAI,OAAO;AAAA,EACxB,cAAcA,gBAAI,OAAO;AAC3B,CAAC,EACA,UAAU;AAEP,MAAA,iBAAiB,CAAC,SAAkB;AACjC,SAAA,mBAAmB,aAAa,MAAM,EAAE,QAAQ,MAAM,YAAY,OAAO;AAClF;;"}