{"version":3,"file":"apiTokens-rxLmW4xI.js","sources":["../../admin/src/services/apiTokens.ts"],"sourcesContent":["import * as ApiToken from '../../../shared/contracts/api-token';\r\n\r\nimport { adminApi } from './api';\r\n\r\nconst apiTokensService = adminApi\r\n  .enhanceEndpoints({\r\n    addTagTypes: ['ApiToken'],\r\n  })\r\n  .injectEndpoints({\r\n    endpoints: (builder) => ({\r\n      getAPITokens: builder.query<ApiToken.List.Response['data'], void>({\r\n        query: () => '/admin/api-tokens',\r\n        transformResponse: (response: ApiToken.List.Response) => response.data,\r\n        providesTags: (res, _err) => [\r\n          ...(res?.map(({ id }) => ({ type: 'ApiToken' as const, id })) ?? []),\r\n          { type: 'ApiToken' as const, id: 'LIST' },\r\n        ],\r\n      }),\r\n      getAPIToken: builder.query<ApiToken.Get.Response['data'], ApiToken.Get.Params['id']>({\r\n        query: (id) => `/admin/api-tokens/${id}`,\r\n        transformResponse: (response: ApiToken.Get.Response) => response.data,\r\n        providesTags: (res, _err, id) => [{ type: 'ApiToken' as const, id }],\r\n      }),\r\n      createAPIToken: builder.mutation<\r\n        ApiToken.Create.Response['data'],\r\n        ApiToken.Create.Request['body']\r\n      >({\r\n        query: (body) => ({\r\n          url: '/admin/api-tokens',\r\n          method: 'POST',\r\n          data: body,\r\n        }),\r\n        transformResponse: (response: ApiToken.Create.Response) => response.data,\r\n        invalidatesTags: [{ type: 'ApiToken' as const, id: 'LIST' }],\r\n      }),\r\n      deleteAPIToken: builder.mutation<\r\n        ApiToken.Revoke.Response['data'],\r\n        ApiToken.Revoke.Params['id']\r\n      >({\r\n        query: (id) => ({\r\n          url: `/admin/api-tokens/${id}`,\r\n          method: 'DELETE',\r\n        }),\r\n        transformResponse: (response: ApiToken.Revoke.Response) => response.data,\r\n        invalidatesTags: (_res, _err, id) => [{ type: 'ApiToken' as const, id }],\r\n      }),\r\n      updateAPIToken: builder.mutation<\r\n        ApiToken.Update.Response['data'],\r\n        ApiToken.Update.Params & ApiToken.Update.Request['body']\r\n      >({\r\n        query: ({ id, ...body }) => ({\r\n          url: `/admin/api-tokens/${id}`,\r\n          method: 'PUT',\r\n          data: body,\r\n        }),\r\n        transformResponse: (response: ApiToken.Update.Response) => response.data,\r\n        invalidatesTags: (_res, _err, { id }) => [{ type: 'ApiToken' as const, id }],\r\n      }),\r\n    }),\r\n  });\r\n\r\nconst {\r\n  useGetAPITokensQuery,\r\n  useGetAPITokenQuery,\r\n  useCreateAPITokenMutation,\r\n  useDeleteAPITokenMutation,\r\n  useUpdateAPITokenMutation,\r\n} = apiTokensService;\r\n\r\nexport {\r\n  useGetAPITokensQuery,\r\n  useGetAPITokenQuery,\r\n  useCreateAPITokenMutation,\r\n  useDeleteAPITokenMutation,\r\n  useUpdateAPITokenMutation,\r\n};\r\n"],"names":["adminApi"],"mappings":";;;;AAIA,MAAM,gBAAA,GAAmBA,eACtB,gBAAiB,CAAA;AAAA,EAChB,WAAA,EAAa,CAAC,UAAU;AAC1B,CAAC,EACA,eAAgB,CAAA;AAAA,EACf,SAAA,EAAW,CAAC,OAAa,MAAA;AAAA,IACvB,YAAA,EAAc,QAAQ,KAA4C,CAAA;AAAA,MAChE,OAAO,MAAM,mBAAA;AAAA,MACb,iBAAA,EAAmB,CAAC,QAAA,KAAqC,QAAS,CAAA,IAAA;AAAA,MAClE,YAAA,EAAc,CAAC,GAAA,EAAK,IAAS,KAAA;AAAA,QAC3B,GAAI,GAAA,EAAK,GAAI,CAAA,CAAC,EAAE,EAAA,EAAU,MAAA,EAAE,IAAM,EAAA,UAAA,EAAqB,EAAG,EAAA,CAAE,KAAK,EAAC;AAAA,QAClE,EAAE,IAAA,EAAM,UAAqB,EAAA,EAAA,EAAI,MAAO;AAAA;AAC1C,KACD,CAAA;AAAA,IACD,WAAA,EAAa,QAAQ,KAAgE,CAAA;AAAA,MACnF,KAAO,EAAA,CAAC,EAAO,KAAA,CAAA,kBAAA,EAAqB,EAAE,CAAA,CAAA;AAAA,MACtC,iBAAA,EAAmB,CAAC,QAAA,KAAoC,QAAS,CAAA,IAAA;AAAA,MACjE,YAAA,EAAc,CAAC,GAAA,EAAK,IAAM,EAAA,EAAA,KAAO,CAAC,EAAE,IAAA,EAAM,UAAqB,EAAA,EAAA,EAAI;AAAA,KACpE,CAAA;AAAA,IACD,cAAA,EAAgB,QAAQ,QAGtB,CAAA;AAAA,MACA,KAAA,EAAO,CAAC,IAAU,MAAA;AAAA,QAChB,GAAK,EAAA,mBAAA;AAAA,QACL,MAAQ,EAAA,MAAA;AAAA,QACR,IAAM,EAAA;AAAA,OACR,CAAA;AAAA,MACA,iBAAA,EAAmB,CAAC,QAAA,KAAuC,QAAS,CAAA,IAAA;AAAA,MACpE,iBAAiB,CAAC,EAAE,MAAM,UAAqB,EAAA,EAAA,EAAI,QAAQ;AAAA,KAC5D,CAAA;AAAA,IACD,cAAA,EAAgB,QAAQ,QAGtB,CAAA;AAAA,MACA,KAAA,EAAO,CAAC,EAAQ,MAAA;AAAA,QACd,GAAA,EAAK,qBAAqB,EAAE,CAAA,CAAA;AAAA,QAC5B,MAAQ,EAAA;AAAA,OACV,CAAA;AAAA,MACA,iBAAA,EAAmB,CAAC,QAAA,KAAuC,QAAS,CAAA,IAAA;AAAA,MACpE,eAAA,EAAiB,CAAC,IAAA,EAAM,IAAM,EAAA,EAAA,KAAO,CAAC,EAAE,IAAA,EAAM,UAAqB,EAAA,EAAA,EAAI;AAAA,KACxE,CAAA;AAAA,IACD,cAAA,EAAgB,QAAQ,QAGtB,CAAA;AAAA,MACA,OAAO,CAAC,EAAE,EAAI,EAAA,GAAG,MAAY,MAAA;AAAA,QAC3B,GAAA,EAAK,qBAAqB,EAAE,CAAA,CAAA;AAAA,QAC5B,MAAQ,EAAA,KAAA;AAAA,QACR,IAAM,EAAA;AAAA,OACR,CAAA;AAAA,MACA,iBAAA,EAAmB,CAAC,QAAA,KAAuC,QAAS,CAAA,IAAA;AAAA,MACpE,eAAiB,EAAA,CAAC,IAAM,EAAA,IAAA,EAAM,EAAE,EAAA,EAAS,KAAA,CAAC,EAAE,IAAA,EAAM,UAAqB,EAAA,EAAA,EAAI;AAAA,KAC5E;AAAA,GACH;AACF,CAAC,CAAA;AAEG,MAAA;AAAA,EACJ,oBAAA;AAAA,EACA,mBAAA;AAAA,EACA,yBAAA;AAAA,EACA,yBAAA;AAAA,EACA;AACF,CAAI,GAAA;;;;;;;;"}