{"version":3,"file":"useLicenseLimits-JFp6koHQ.js","sources":["../../ee/admin/src/hooks/useLicenseLimits.ts"],"sourcesContent":["import * as React from 'react';\r\n\r\nimport { useGetLicenseLimitsQuery } from '../../../../admin/src/services/admin';\r\nimport { GetLicenseLimitInformation } from '../../../../shared/contracts/admin';\r\n\r\ninterface UseLicenseLimitsArgs {\r\n  enabled?: boolean;\r\n}\r\n\r\nfunction useLicenseLimits({ enabled }: UseLicenseLimitsArgs = { enabled: true }) {\r\n  const { data, isError, isLoading } = useGetLicenseLimitsQuery(undefined, {\r\n    skip: !enabled,\r\n  });\r\n\r\n  type FeatureNames = GetLicenseLimitInformation.Response['data']['features'][number]['name'];\r\n\r\n  type GetFeatureType = <T>(name: FeatureNames) => Record<string, T> | undefined;\r\n\r\n  const getFeature = React.useCallback<GetFeatureType>(\r\n    (name) => {\r\n      const feature = data?.data?.features.find((feature) => feature.name === name);\r\n\r\n      if (feature && 'options' in feature) {\r\n        return feature.options;\r\n      } else {\r\n        return {};\r\n      }\r\n    },\r\n    [data]\r\n  );\r\n\r\n  return { license: data?.data, getFeature, isError, isLoading };\r\n}\r\n\r\nexport { useLicenseLimits };\r\nexport type { UseLicenseLimitsArgs };\r\n"],"names":["useGetLicenseLimitsQuery","React","feature"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AASA,SAAS,iBAAiB,EAAE,OAAA,KAAkC,EAAE,OAAA,EAAS,MAAQ,EAAA;AAC/E,EAAA,MAAM,EAAE,IAAM,EAAA,OAAA,EAAS,SAAU,EAAA,GAAIA,+BAAyB,KAAW,CAAA,EAAA;AAAA,IACvE,MAAM,CAAC;AAAA,GACR,CAAA;AAMD,EAAA,MAAM,aAAaC,gBAAM,CAAA,WAAA;AAAA,IACvB,CAAC,IAAS,KAAA;AACR,MAAM,MAAA,OAAA,GAAU,MAAM,IAAM,EAAA,QAAA,CAAS,KAAK,CAACC,QAAAA,KAAYA,QAAQ,CAAA,IAAA,KAAS,IAAI,CAAA;AAE5E,MAAI,IAAA,OAAA,IAAW,aAAa,OAAS,EAAA;AACnC,QAAA,OAAO,OAAQ,CAAA,OAAA;AAAA,OACV,MAAA;AACL,QAAA,OAAO,EAAC;AAAA;AACV,KACF;AAAA,IACA,CAAC,IAAI;AAAA,GACP;AAEA,EAAA,OAAO,EAAE,OAAS,EAAA,IAAA,EAAM,IAAM,EAAA,UAAA,EAAY,SAAS,SAAU,EAAA;AAC/D;;;;"}