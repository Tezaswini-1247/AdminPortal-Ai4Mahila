{"version":3,"file":"admin-user-hash.js","sources":["../../../src/services/metrics/admin-user-hash.ts"],"sourcesContent":["import crypto from 'crypto';\r\nimport type { Core } from '@strapi/types';\r\n\r\n/**\r\n * Generate an admin user hash\r\n */\r\nconst generateAdminUserHash = (strapi: Core.Strapi) => {\r\n  const ctx = strapi?.requestContext?.get();\r\n  if (!ctx?.state?.user?.email) {\r\n    return '';\r\n  }\r\n  return crypto.createHash('sha256').update(ctx.state.user.email).digest('hex');\r\n};\r\n\r\nexport { generateAdminUserHash };\r\n"],"names":["crypto"],"mappings":";;;;;AAMM,MAAA,wBAAwB,CAAC,WAAwB;AAC/C,QAAA,MAAM,QAAQ,gBAAgB,IAAI;AACxC,MAAI,CAAC,KAAK,OAAO,MAAM,OAAO;AACrB,WAAA;AAAA,EAAA;AAEF,SAAAA,wBAAO,WAAW,QAAQ,EAAE,OAAO,IAAI,MAAM,KAAK,KAAK,EAAE,OAAO,KAAK;AAC9E;;"}