{"version":3,"file":"request-context.js","sources":["../../src/services/request-context.ts"],"sourcesContent":["import { AsyncLocalStorage } from 'async_hooks';\r\nimport type { ParameterizedContext } from 'koa';\r\n\r\nconst storage = new AsyncLocalStorage<ParameterizedContext>();\r\n\r\nconst requestCtx = {\r\n  async run(store: ParameterizedContext, cb: () => Promise<void>) {\r\n    return storage.run(store, cb);\r\n  },\r\n\r\n  get() {\r\n    return storage.getStore();\r\n  },\r\n};\r\n\r\nexport default requestCtx;\r\n"],"names":["AsyncLocalStorage"],"mappings":";;AAGA,MAAM,UAAU,IAAIA,YAAAA,kBAAwC;AAE5D,MAAM,aAAa;AAAA,EACjB,MAAM,IAAI,OAA6B,IAAyB;AACvD,WAAA,QAAQ,IAAI,OAAO,EAAE;AAAA,EAC9B;AAAA,EAEA,MAAM;AACJ,WAAO,QAAQ,SAAS;AAAA,EAAA;AAE5B;;"}