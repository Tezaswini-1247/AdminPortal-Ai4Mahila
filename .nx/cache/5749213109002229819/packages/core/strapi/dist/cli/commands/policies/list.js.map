{"version":3,"file":"list.js","sources":["../../../../src/cli/commands/policies/list.ts"],"sourcesContent":["import { createCommand } from 'commander';\r\nimport CLITable from 'cli-table3';\r\nimport chalk from 'chalk';\r\nimport { createStrapi, compileStrapi } from '@strapi/core';\r\n\r\nimport type { StrapiCommand } from '../../types';\r\nimport { runAction } from '../../utils/helpers';\r\n\r\nconst action = async () => {\r\n  const appContext = await compileStrapi();\r\n  const app = await createStrapi(appContext).register();\r\n\r\n  const list = app.get('policies').keys();\r\n\r\n  const infoTable = new CLITable({\r\n    head: [chalk.blue('Name')],\r\n  });\r\n\r\n  list.forEach((name: string) => infoTable.push([name]));\r\n\r\n  console.log(infoTable.toString());\r\n\r\n  await app.destroy();\r\n};\r\n\r\n/**\r\n * `$ strapi policies:list`\r\n */\r\nconst command: StrapiCommand = () => {\r\n  return createCommand('policies:list')\r\n    .description('List all the application policies')\r\n    .action(runAction('policies:list', action));\r\n};\r\n\r\nexport { action, command };\r\n"],"names":["compileStrapi","createStrapi","CLITable","chalk","createCommand","runAction"],"mappings":";;;;;;;;;;AAQA,MAAM,SAAS,YAAY;AACnB,QAAA,aAAa,MAAMA,mBAAc;AACvC,QAAM,MAAM,MAAMC,KAAAA,aAAa,UAAU,EAAE,SAAS;AAEpD,QAAM,OAAO,IAAI,IAAI,UAAU,EAAE,KAAK;AAEhC,QAAA,YAAY,IAAIC,0BAAS;AAAA,IAC7B,MAAM,CAACC,eAAAA,QAAM,KAAK,MAAM,CAAC;AAAA,EAAA,CAC1B;AAEI,OAAA,QAAQ,CAAC,SAAiB,UAAU,KAAK,CAAC,IAAI,CAAC,CAAC;AAE7C,UAAA,IAAI,UAAU,UAAU;AAEhC,QAAM,IAAI,QAAQ;AACpB;AAKA,MAAM,UAAyB,MAAM;AAC5B,SAAAC,UAAA,cAAc,eAAe,EACjC,YAAY,mCAAmC,EAC/C,OAAOC,QAAA,UAAU,iBAAiB,MAAM,CAAC;AAC9C;;;"}