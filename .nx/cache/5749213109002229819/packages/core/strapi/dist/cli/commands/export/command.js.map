{"version":3,"file":"command.js","sources":["../../../../src/cli/commands/export/command.ts"],"sourcesContent":["import { createCommand, Option } from 'commander';\r\n\r\nimport {\r\n  excludeOption,\r\n  onlyOption,\r\n  throttleOption,\r\n  validateExcludeOnly,\r\n} from '../../utils/data-transfer';\r\nimport { promptEncryptionKey } from '../../utils/commander';\r\nimport action from './action';\r\n\r\n/**\r\n * `$ strapi export`\r\n */\r\nconst command = () => {\r\n  return createCommand('export')\r\n    .description('Export data from Strapi to file')\r\n    .allowExcessArguments(false)\r\n    .addOption(\r\n      new Option('--no-encrypt', `Disables 'aes-128-ecb' encryption of the output file`).default(\r\n        true\r\n      )\r\n    )\r\n    .addOption(\r\n      new Option('--no-compress', 'Disables gzip compression of output file').default(true)\r\n    )\r\n    .addOption(new Option('--verbose', 'Enable verbose logs'))\r\n    .addOption(\r\n      new Option(\r\n        '-k, --key <string>',\r\n        'Provide encryption key in command instead of using the prompt'\r\n      )\r\n    )\r\n    .addOption(\r\n      new Option('-f, --file <file>', 'name to use for exported file (without extensions)')\r\n    )\r\n    .addOption(excludeOption)\r\n    .addOption(onlyOption)\r\n    .addOption(throttleOption)\r\n    .hook('preAction', validateExcludeOnly)\r\n    .hook('preAction', promptEncryptionKey)\r\n    .action(action);\r\n};\r\n\r\nexport default command;\r\n"],"names":["createCommand","Option","excludeOption","onlyOption","throttleOption","validateExcludeOnly","promptEncryptionKey"],"mappings":";;;;;AAcA,MAAM,UAAU,MAAM;AACb,SAAAA,UAAA,cAAc,QAAQ,EAC1B,YAAY,iCAAiC,EAC7C,qBAAqB,KAAK,EAC1B;AAAA,IACC,IAAIC,UAAA,OAAO,gBAAgB,sDAAsD,EAAE;AAAA,MACjF;AAAA,IAAA;AAAA,EACF,EAED;AAAA,IACC,IAAIA,UAAO,OAAA,iBAAiB,0CAA0C,EAAE,QAAQ,IAAI;AAAA,EAAA,EAErF,UAAU,IAAIA,iBAAO,aAAa,qBAAqB,CAAC,EACxD;AAAA,IACC,IAAIA,UAAA;AAAA,MACF;AAAA,MACA;AAAA,IAAA;AAAA,EACF,EAED;AAAA,IACC,IAAIA,UAAAA,OAAO,qBAAqB,oDAAoD;AAAA,EAAA,EAErF,UAAUC,aAAAA,aAAa,EACvB,UAAUC,aAAAA,UAAU,EACpB,UAAUC,2BAAc,EACxB,KAAK,aAAaC,aAAmB,mBAAA,EACrC,KAAK,aAAaC,+BAAmB,EACrC,OAAO,MAAM;AAClB;;"}