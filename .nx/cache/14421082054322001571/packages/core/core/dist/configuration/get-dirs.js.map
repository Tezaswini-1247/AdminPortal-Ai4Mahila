{"version":3,"file":"get-dirs.js","sources":["../../src/configuration/get-dirs.ts"],"sourcesContent":["import { join, resolve } from 'path';\r\nimport { get } from 'lodash/fp';\r\n\r\nimport type { Core } from '@strapi/types';\r\nimport type { StrapiOptions } from '../Strapi';\r\n\r\nexport type Options = {\r\n  app: string;\r\n  dist: string;\r\n};\r\n\r\nexport const getDirs = (\r\n  { appDir, distDir }: StrapiOptions,\r\n  config: { server: Partial<Core.Config.Server> }\r\n): Core.StrapiDirectories => ({\r\n  dist: {\r\n    root: distDir,\r\n    src: join(distDir, 'src'),\r\n    api: join(distDir, 'src', 'api'),\r\n    components: join(distDir, 'src', 'components'),\r\n    extensions: join(distDir, 'src', 'extensions'),\r\n    policies: join(distDir, 'src', 'policies'),\r\n    middlewares: join(distDir, 'src', 'middlewares'),\r\n    config: join(distDir, 'config'),\r\n  },\r\n  app: {\r\n    root: appDir,\r\n    src: join(appDir, 'src'),\r\n    api: join(appDir, 'src', 'api'),\r\n    components: join(appDir, 'src', 'components'),\r\n    extensions: join(appDir, 'src', 'extensions'),\r\n    policies: join(appDir, 'src', 'policies'),\r\n    middlewares: join(appDir, 'src', 'middlewares'),\r\n    config: join(appDir, 'config'),\r\n  },\r\n  static: {\r\n    public: resolve(appDir, get('server.dirs.public', config)),\r\n  },\r\n});\r\n"],"names":["join","resolve","get"],"mappings":";;;;AAWO,MAAM,UAAU,CACrB,EAAE,QAAQ,QAAA,GACV,YAC4B;AAAA,EAC5B,MAAM;AAAA,IACJ,MAAM;AAAA,IACN,KAAKA,KAAAA,KAAK,SAAS,KAAK;AAAA,IACxB,KAAKA,KAAA,KAAK,SAAS,OAAO,KAAK;AAAA,IAC/B,YAAYA,KAAA,KAAK,SAAS,OAAO,YAAY;AAAA,IAC7C,YAAYA,KAAA,KAAK,SAAS,OAAO,YAAY;AAAA,IAC7C,UAAUA,KAAA,KAAK,SAAS,OAAO,UAAU;AAAA,IACzC,aAAaA,KAAA,KAAK,SAAS,OAAO,aAAa;AAAA,IAC/C,QAAQA,KAAAA,KAAK,SAAS,QAAQ;AAAA,EAChC;AAAA,EACA,KAAK;AAAA,IACH,MAAM;AAAA,IACN,KAAKA,KAAAA,KAAK,QAAQ,KAAK;AAAA,IACvB,KAAKA,KAAA,KAAK,QAAQ,OAAO,KAAK;AAAA,IAC9B,YAAYA,KAAA,KAAK,QAAQ,OAAO,YAAY;AAAA,IAC5C,YAAYA,KAAA,KAAK,QAAQ,OAAO,YAAY;AAAA,IAC5C,UAAUA,KAAA,KAAK,QAAQ,OAAO,UAAU;AAAA,IACxC,aAAaA,KAAA,KAAK,QAAQ,OAAO,aAAa;AAAA,IAC9C,QAAQA,KAAAA,KAAK,QAAQ,QAAQ;AAAA,EAC/B;AAAA,EACA,QAAQ;AAAA,IACN,QAAQC,KAAAA,QAAQ,QAAQC,GAAAA,IAAI,sBAAsB,MAAM,CAAC;AAAA,EAAA;AAE7D;;"}