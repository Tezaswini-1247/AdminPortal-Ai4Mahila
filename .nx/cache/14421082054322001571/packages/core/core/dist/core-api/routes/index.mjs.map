{"version":3,"file":"index.mjs","sources":["../../../src/core-api/routes/index.ts"],"sourcesContent":["import { contentTypes as contentTypeUtils } from '@strapi/utils';\r\nimport type { Schema } from '@strapi/types';\r\n\r\nexport const createRoutes = ({ contentType }: { contentType: Schema.ContentType }) => {\r\n  if (contentTypeUtils.isSingleType(contentType)) {\r\n    return getSingleTypeRoutes(contentType);\r\n  }\r\n\r\n  return getCollectionTypeRoutes(contentType);\r\n};\r\n\r\nconst getSingleTypeRoutes = ({ uid, info }: Schema.ContentType) => {\r\n  return {\r\n    find: {\r\n      method: 'GET',\r\n      path: `/${info.singularName}`,\r\n      handler: `${uid}.find`,\r\n      config: {},\r\n    },\r\n    update: {\r\n      method: 'PUT',\r\n      path: `/${info.singularName}`,\r\n      handler: `${uid}.update`,\r\n      config: {},\r\n    },\r\n    delete: {\r\n      method: 'DELETE',\r\n      path: `/${info.singularName}`,\r\n      handler: `${uid}.delete`,\r\n      config: {},\r\n    },\r\n  };\r\n};\r\n\r\nconst getCollectionTypeRoutes = ({ uid, info }: Schema.ContentType) => {\r\n  return {\r\n    find: {\r\n      method: 'GET',\r\n      path: `/${info.pluralName}`,\r\n      handler: `${uid}.find`,\r\n      config: {},\r\n    },\r\n    findOne: {\r\n      method: 'GET',\r\n      path: `/${info.pluralName}/:id`,\r\n      handler: `${uid}.findOne`,\r\n      config: {},\r\n    },\r\n    create: {\r\n      method: 'POST',\r\n      path: `/${info.pluralName}`,\r\n      handler: `${uid}.create`,\r\n      config: {},\r\n    },\r\n    update: {\r\n      method: 'PUT',\r\n      path: `/${info.pluralName}/:id`,\r\n      handler: `${uid}.update`,\r\n      config: {},\r\n    },\r\n    delete: {\r\n      method: 'DELETE',\r\n      path: `/${info.pluralName}/:id`,\r\n      handler: `${uid}.delete`,\r\n      config: {},\r\n    },\r\n  };\r\n};\r\n"],"names":["contentTypeUtils"],"mappings":";AAGO,MAAM,eAAe,CAAC,EAAE,kBAAuD;AAChF,MAAAA,aAAiB,aAAa,WAAW,GAAG;AAC9C,WAAO,oBAAoB,WAAW;AAAA,EAAA;AAGxC,SAAO,wBAAwB,WAAW;AAC5C;AAEA,MAAM,sBAAsB,CAAC,EAAE,KAAK,WAA+B;AAC1D,SAAA;AAAA,IACL,MAAM;AAAA,MACJ,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,YAAY;AAAA,MAC3B,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IACV;AAAA,IACA,QAAQ;AAAA,MACN,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,YAAY;AAAA,MAC3B,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IACV;AAAA,IACA,QAAQ;AAAA,MACN,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,YAAY;AAAA,MAC3B,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IAAC;AAAA,EAEb;AACF;AAEA,MAAM,0BAA0B,CAAC,EAAE,KAAK,WAA+B;AAC9D,SAAA;AAAA,IACL,MAAM;AAAA,MACJ,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,UAAU;AAAA,MACzB,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IACV;AAAA,IACA,SAAS;AAAA,MACP,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,UAAU;AAAA,MACzB,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IACV;AAAA,IACA,QAAQ;AAAA,MACN,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,UAAU;AAAA,MACzB,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IACV;AAAA,IACA,QAAQ;AAAA,MACN,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,UAAU;AAAA,MACzB,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IACV;AAAA,IACA,QAAQ;AAAA,MACN,QAAQ;AAAA,MACR,MAAM,IAAI,KAAK,UAAU;AAAA,MACzB,SAAS,GAAG,GAAG;AAAA,MACf,QAAQ,CAAA;AAAA,IAAC;AAAA,EAEb;AACF;"}