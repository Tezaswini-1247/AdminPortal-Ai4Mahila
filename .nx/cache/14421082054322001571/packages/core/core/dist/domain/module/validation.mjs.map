{"version":3,"file":"validation.mjs","sources":["../../../src/domain/module/validation.ts"],"sourcesContent":["import { yup } from '@strapi/utils';\r\n\r\nconst strapiServerSchema = yup\r\n  .object()\r\n  .shape({\r\n    bootstrap: yup.mixed().isFunction(),\r\n    destroy: yup.mixed().isFunction(),\r\n    register: yup.mixed().isFunction(),\r\n    config: yup.object(),\r\n    routes: yup.lazy((value) => {\r\n      if (Array.isArray(value)) {\r\n        return yup.array();\r\n      }\r\n      return yup.object();\r\n    }),\r\n    controllers: yup.object(),\r\n    services: yup.object(),\r\n    policies: yup.object(),\r\n    middlewares: yup.object(),\r\n    contentTypes: yup.object(),\r\n  })\r\n  .noUnknown();\r\n\r\nconst validateModule = (data: unknown) => {\r\n  return strapiServerSchema.validateSync(data, { strict: true, abortEarly: false });\r\n};\r\n\r\nexport { validateModule };\r\n"],"names":[],"mappings":";AAEA,MAAM,qBAAqB,IACxB,OAAO,EACP,MAAM;AAAA,EACL,WAAW,IAAI,MAAM,EAAE,WAAW;AAAA,EAClC,SAAS,IAAI,MAAM,EAAE,WAAW;AAAA,EAChC,UAAU,IAAI,MAAM,EAAE,WAAW;AAAA,EACjC,QAAQ,IAAI,OAAO;AAAA,EACnB,QAAQ,IAAI,KAAK,CAAC,UAAU;AACtB,QAAA,MAAM,QAAQ,KAAK,GAAG;AACxB,aAAO,IAAI,MAAM;AAAA,IAAA;AAEnB,WAAO,IAAI,OAAO;AAAA,EAAA,CACnB;AAAA,EACD,aAAa,IAAI,OAAO;AAAA,EACxB,UAAU,IAAI,OAAO;AAAA,EACrB,UAAU,IAAI,OAAO;AAAA,EACrB,aAAa,IAAI,OAAO;AAAA,EACxB,cAAc,IAAI,OAAO;AAC3B,CAAC,EACA,UAAU;AAEP,MAAA,iBAAiB,CAAC,SAAkB;AACjC,SAAA,mBAAmB,aAAa,MAAM,EAAE,QAAQ,MAAM,YAAY,OAAO;AAClF;"}