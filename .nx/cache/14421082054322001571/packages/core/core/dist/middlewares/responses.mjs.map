{"version":3,"file":"responses.mjs","sources":["../../src/middlewares/responses.ts"],"sourcesContent":["import { isFunction } from 'lodash/fp';\r\nimport type { Core } from '@strapi/types';\r\n\r\nexport interface Config {\r\n  handlers?: Record<number, Core.MiddlewareHandler>;\r\n}\r\n\r\nexport const responses: Core.MiddlewareFactory<Config> = (config = {}) => {\r\n  return async (ctx, next) => {\r\n    await next();\r\n\r\n    const { status } = ctx;\r\n    const handler = config?.handlers?.[status];\r\n\r\n    if (isFunction(handler)) {\r\n      await handler(ctx, next);\r\n    }\r\n  };\r\n};\r\n"],"names":[],"mappings":";AAOO,MAAM,YAA4C,CAAC,SAAS,OAAO;AACjE,SAAA,OAAO,KAAK,SAAS;AAC1B,UAAM,KAAK;AAEL,UAAA,EAAE,WAAW;AACb,UAAA,UAAU,QAAQ,WAAW,MAAM;AAErC,QAAA,WAAW,OAAO,GAAG;AACjB,YAAA,QAAQ,KAAK,IAAI;AAAA,IAAA;AAAA,EAE3B;AACF;"}