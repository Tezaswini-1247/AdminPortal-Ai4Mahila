{"version":3,"file":"develop.js","sources":["../../../src/cli/commands/develop.ts"],"sourcesContent":["import { createCommand } from 'commander';\r\nimport cluster from 'node:cluster';\r\nimport type { StrapiCommand } from '../types';\r\nimport { develop as nodeDevelop, DevelopOptions } from '../../node/develop';\r\nimport { handleUnexpectedError } from '../../node/core/errors';\r\n\r\ntype DevelopCLIOptions = DevelopOptions;\r\n\r\nconst action = async (options: DevelopCLIOptions) => {\r\n  try {\r\n    if (cluster.isPrimary) {\r\n      if (options.bundler === 'webpack') {\r\n        options.logger.warn(\r\n          '[@strapi/strapi]: Using webpack as a bundler is deprecated. You should migrate to vite.'\r\n        );\r\n      }\r\n    }\r\n\r\n    await nodeDevelop(options);\r\n  } catch (err) {\r\n    handleUnexpectedError(err);\r\n  }\r\n};\r\n\r\n/**\r\n * `$ strapi develop`\r\n */\r\nconst command: StrapiCommand = ({ ctx }) => {\r\n  return createCommand('develop')\r\n    .alias('dev')\r\n    .option('--bundler [bundler]', 'Bundler to use (webpack or vite)', 'vite')\r\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\r\n    .option('--silent', \"Don't log anything\", false)\r\n    .option('--polling', 'Watch for file changes in network directories', false)\r\n    .option('--watch-admin', 'Watch the admin panel for hot changes', true)\r\n    .option('--no-watch-admin', 'Do not watch the admin panel for hot changes')\r\n    .option('--open', 'Open the admin in your browser', true)\r\n    .description('Start your Strapi application in development mode')\r\n    .action(async (options: DevelopCLIOptions) => {\r\n      return action({ ...options, ...ctx });\r\n    });\r\n};\r\n\r\nexport { command };\r\n"],"names":["cluster","nodeDevelop","handleUnexpectedError","createCommand"],"mappings":";;;;;;;;AAQA,MAAM,SAAS,OAAO,YAA+B;AAC/C,MAAA;AACF,QAAIA,iBAAAA,QAAQ,WAAW;AACjB,UAAA,QAAQ,YAAY,WAAW;AACjC,gBAAQ,OAAO;AAAA,UACb;AAAA,QACF;AAAA,MAAA;AAAA,IACF;AAGF,UAAMC,QAAAA,QAAY,OAAO;AAAA,WAClB,KAAK;AACZC,WAAAA,sBAAsB,GAAG;AAAA,EAAA;AAE7B;AAKA,MAAM,UAAyB,CAAC,EAAE,UAAU;AACnC,SAAAC,UAAA,cAAc,SAAS,EAC3B,MAAM,KAAK,EACX,OAAO,uBAAuB,oCAAoC,MAAM,EACxE,OAAO,eAAe,2CAA2C,KAAK,EACtE,OAAO,YAAY,sBAAsB,KAAK,EAC9C,OAAO,aAAa,iDAAiD,KAAK,EAC1E,OAAO,iBAAiB,yCAAyC,IAAI,EACrE,OAAO,oBAAoB,8CAA8C,EACzE,OAAO,UAAU,kCAAkC,IAAI,EACvD,YAAY,mDAAmD,EAC/D,OAAO,OAAO,YAA+B;AAC5C,WAAO,OAAO,EAAE,GAAG,SAAS,GAAG,KAAK;AAAA,EAAA,CACrC;AACL;;"}